post:
  tags:
    - Authentication
  summary: Register a new user
  description: |
    Create a new user account with email and password.
    
    ### Rate Limiting
    - 5 requests per 15 minutes
    
    ### Password Requirements
    - Minimum 8 characters
    - At least one uppercase letter
    - At least one lowercase letter
    - At least one number
    - At least one special character
    
  operationId: registerUser
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: '#/components/schemas/RegisterRequest'
        examples:
          basic:
            $ref: '../../examples/register.yaml#/basic'
          full:
            $ref: '../../examples/register.yaml#/full'
  responses:
    201:
      description: User registered successfully
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AuthResponse'
          examples:
            success:
              $ref: '../../examples/register.yaml#/success'
    400:
      $ref: '#/components/responses/ValidationError'
    409:
      description: User already exists
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          examples:
            userExists:
              $ref: '../../examples/errors.yaml#/userExists'
    429:
      $ref: '#/components/responses/RateLimitError'
  x-code-samples:
    - lang: curl
      source: |
        curl -X POST http://localhost:3000/api/v1/auth/register \
          -H "Content-Type: application/json" \
          -d '{
            "email": "user@example.com",
            "password": "SecurePass123!"
          }'
    - lang: JavaScript
      source: |
        fetch('http://localhost:3000/api/v1/auth/register', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            email: 'user@example.com',
            password: 'SecurePass123!',
            firstName: 'John',
            lastName: 'Doe'
          })
        })
        .then(response => response.json())
        .then(data => console.log(data));